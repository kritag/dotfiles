# Installs dnf packages
#- omnipkg:
#    - install: [
#        zsh,
#        yp-tools,
#        sqlite,
#        git,
#        make,
#        python3-pip,
#        python3,
#        nodejs-npm,
#        cargo,
#        lsd,
#        gh,
#        dnf-automatic,
#        btop,
#        neovim]
#
- install-brew: true

- defaults:
    link:
      relink: true
      create: true

- create:
    - "~/.local/share/nvim/site/autoload"

- clean:
    - "~"
    - "~/.config"
- link:
    ~/.vimrc: config/vimrc
    ~/.zshrc: zsh/zshrc
    ~/.config/nvim/init.vim: config/nvim/init.vim
    ~/.local/share/nvim/site/autoload/plug.vim: vim-plug/plug.vim 
    ~/.aliases: zsh/aliases
    ~/.zstyle: zsh/zstyle
    ~/.p10k.zsh: zsh/p10k.zsh
    ~/.zsh_plugins.txt: zsh/zsh_plugins.txt
    ~/.zshenv: zsh/zshenv
    ~/.gitconfig:
      create: true
      path: dracula_git/config/gitconfig
    ~/.config/btop/btop.conf: config/btop/btop.conf
    ~/.config/btop/themes/dracula.theme: dracula_bashtop/dracula.theme
    ~/.config/lvim/config.lua: config/lvim/config.lua
    ~/.config/lsd/colors.yaml:
      create: true
      path: dracula_lsd/dracula.yaml
    ~/.config/lsd/config.yaml:
      create: true
      path: dracula_lsd/config.yaml
    ~/.vim/pack/themes/start/dracula:
      create: true
      path: dracula_vim/*
      glob: true
      exclude: [ dracula_vim/*.md, dracula_vim/LICENSE, dracula_vim/doc, dracula_vim/*.png ]
    ~/.antidote:
      create: true
      path: zsh/antidote/*
      glob: true
    
- sudo:
    - shell:
      - [install pfetch/pfetch /usr/local/bin/]
      - [cp scripts/wifi-powersave-off.conf /etc/NetworkManager/conf.d]
      - [mkdir -p /usr/local/share/zsh/site-functions; wget -P /usr/local/share/zsh/site-functions https://raw.githubusercontent.com/docker/cli/master/contrib/completion/zsh/_docker]

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - [touch ~/.env, Creating the .env file if it does not exist]
 
- brew:
    - lazygit
    - chroma
    - yq
    - jq
